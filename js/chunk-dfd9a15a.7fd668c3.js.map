{"version":3,"sources":["webpack:///./src/views/admin/AdminOrders.vue","webpack:///./src/components/admin/AdminOrderModal.vue","webpack:///./src/components/admin/AdminOrderModal.vue?4440","webpack:///./src/components/admin/DelOrdersModal.vue","webpack:///./src/components/admin/DelOrdersModal.vue?fa89","webpack:///./src/components/admin/DelAllOrdersModal.vue","webpack:///./src/components/admin/DelAllOrdersModal.vue?2555","webpack:///./src/views/admin/AdminOrders.vue?0e79","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","colspan","page","pagination","getOrder","orders","item","key","id","$filters","date","create_at","user","name","email","tel","address","currency","total","is_paid","type","openModal","loadingStatus","loadingItem","disabled","ref","props-order","tempOrder","updateOrder","deleteOrder","deleteAllOrders","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","style","for","products","src","product","imageUrl","alt","title","category","qty","unit","price","paid_date","value","paidTime","$emit","emits","props","propsOrder","Object","default","data","modal","methods","this","Math","floor","Date","now","watch","mixins","modalMixin","render","components","Pagination","AdminOrderModal","DelOrdersModal","DelAllOrders","showAlert","res","$swal","message","showErrorAlert","error","icon","num","current_page","url","$http","get","then","success","catch","delete","$refs","adminDelModal","closeModal","adminAllOrderDelModal","inOrder","adminModal","temp","put","mounted","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/chunk-dfd9a15a.7fd668c3.js","sourcesContent":["<template>\n  <div class=\"container content\">\n    <h2 class=\"text-center\">訂單列表</h2>\n    <div class=\"d-flex justify-content-center mt-5\">\n      <Pagination :page=\"pagination\" @get-page=\"getOrder\"></Pagination>\n    </div>\n    <!-- 訂單列表 -->\n    <table class=\"table align-middle mt-4\">\n      <thead>\n        <tr>\n          <th width=\"8%\">訂單日期</th>\n          <th width=\"9%\">客戶姓名</th>\n          <th width=\"10%\">客戶信箱</th>\n          <th width=\"10%\">客戶電話</th>\n          <th width=\"18%\">客戶地址</th>\n          <th width=\"11%\">訂單總價</th>\n          <th class=\"text-end\" width=\"9%\">付款狀態</th>\n          <th width=\"12%\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"align-middle\" v-for=\"item in orders\" :key=\"item.id\">\n          <td>{{ $filters.date(item.create_at) }}</td>\n          <td>{{ item.user.name }}</td>\n          <td>{{ item.user.email }}</td>\n          <td>{{ item.user.tel }}</td>\n          <td>{{ item.user.address }}</td>\n          <td>\n            <div class=\"h5\">{{ $filters.currency(item.total) }} 元</div>\n          </td>\n          <td class=\"text-end\">\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\n            <span v-else class=\"text-muted\">未付款</span>\n          </td>\n          <td class=\"text-end\">\n            <div class=\"btn-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-primary btn-sm\"\n                @click=\"openModal('edit', item)\"\n              >\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"openModal('delete', item)\"\n              >\n                <span\n                  v-if=\"loadingStatus.loadingItem === item.id\"\n                  class=\"material-icons animate-spin\"\n                >\n                  cached\n                </span>\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan=\"8\" class=\"text-end\">\n            <button\n              class=\"btn btn-outline-danger\"\n              type=\"button\"\n              @click=\"openModal('deleteall', item)\"\n              :disabled=\"orders <= 1\"\n            >\n              <span\n                v-if=\"loadingStatus.loadingItem === 1\"\n                class=\"material-icons animate-spin\"\n              >\n                cached\n              </span>\n              刪除所有訂單\n            </button>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n    <div class=\"d-flex justify-content-center mt-5\">\n      <Pagination :page=\"pagination\" @get-page=\"getOrder\"></Pagination>\n    </div>\n\n    <!-- Modal -->\n    <AdminOrderModal\n      ref=\"adminModal\"\n      :props-order=\"tempOrder\"\n      @update-order=\"updateOrder\"\n    ></AdminOrderModal>\n    <!-- 刪除按鈕彈出 Modal -->\n    <DelOrdersModal\n      ref=\"adminDelModal\"\n      :props-order=\"tempOrder\"\n      @delete-orders=\"deleteOrder\"\n    ></DelOrdersModal>\n    <DelAllOrders\n      ref=\"adminAllOrderDelModal\"\n      @delete-all-orders=\"deleteAllOrders\"\n    ></DelAllOrders>\n  </div>\n</template>\n\n<script>\nimport Pagination from \"@/components/admin/AdminPagination.vue\";\nimport AdminOrderModal from \"@/components/admin/AdminOrderModal.vue\";\nimport DelOrdersModal from \"@/components/admin/DelOrdersModal.vue\";\nimport DelAllOrders from \"@/components/admin/DelAllOrdersModal.vue\";\n\nexport default {\n  data() {\n    return {\n      loadingStatus: {\n        loadingItem: \"\",\n      },\n      orders: {},\n      pagination: {},\n      tempOrder: {},\n    };\n  },\n  components: {\n    Pagination,\n    AdminOrderModal,\n    DelOrdersModal,\n    DelAllOrders,\n  },\n  methods: {\n    showAlert(res) {\n      this.$swal(res.data.message);\n    },\n    showErrorAlert(error) {\n      this.$swal({\n        title: error,\n        icon: \"error\",\n      });\n    },\n    getOrder(num = this.pagination.current_page || 1) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${num};`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          if (res.data.success) {\n            const { orders, pagination } = res.data;\n            this.orders = orders;\n            this.pagination = pagination;\n          }\n        })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    deleteOrder(item) {\n      this.loadingStatus.loadingItem = item.id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.loadingStatus.loadingItem = \"\";\n            this.$refs.adminDelModal.closeModal();\n            this.showAlert(res);\n            this.getOrder();\n          }\n        })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    deleteAllOrders() {\n      this.loadingStatus.loadingItem = 1;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.loadingStatus.loadingItem = \"\";\n            this.$refs.adminAllOrderDelModal.closeModal();\n            this.showAlert(res);\n            this.getOrder();\n          }\n        })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    openModal(inOrder, item) {\n      switch (inOrder) {\n        case \"edit\":\n          // 因為傳參考特性會連動到資料，因此將資料進行淺層複製\n          this.getOrder();\n          this.tempOrder = { ...item };\n          // console.clear();\n          this.$refs.adminModal.openModal();\n          break;\n        case \"delete\":\n          // 因為傳參考特性會連動到資料，因此將資料進行淺層複製\n          this.tempOrder = { ...item };\n          // Modal需要拿到 title 和刪除按鈕時需要獲得 id\n          this.$refs.adminDelModal.openModal();\n          break;\n        case \"deleteall\":\n          this.$refs.adminAllOrderDelModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n    // 於modal內按下確認按鈕時觸發\n    updateOrder(temp) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${temp.id}`;\n      this.$http\n        .put(url, { data: temp }) // post 或 put\n        .then((res) => {\n          if (res.data.success) {\n            this.$refs.adminModal.closeModal(); // 關掉 modal\n            this.getOrder(); // 重整畫面\n          } else {\n            this.showAlert(res);\n          }\n        })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n  },\n  mounted() {\n    // console.clear();\n    this.getOrder();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    ref=\"modal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"customerOrderModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-xl modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h3 id=\"customerOrderModalLabel\" class=\"modal-title\">\n            <span>修改客戶訂單內容</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <h3 class=\"text-primary\">選購商品</h3>\n          <div class=\"px-3\">\n            <table class=\"table align-middle\">\n              <thead>\n                <tr>\n                  <th>縮圖</th>\n                  <th>品名</th>\n                  <th>類別</th>\n                  <th>數量</th>\n                  <th class=\"text-end\">單價</th>\n                  <th class=\"text-end\">合計</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                  <th>\n                    <img\n                      class=\"product-img\"\n                      :src=\"item.product.imageUrl\"\n                      :alt=\"item.product.title\"\n                    />\n                  </th>\n                  <th>\n                    {{ item.product.title }}\n                  </th>\n                  <th>\n                    {{ item.product.category }}\n                  </th>\n                  <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                  <td class=\"text-end\">\n                    {{ $filters.currency(item.product.price) }}\n                  </td>\n                  <td class=\"text-end\">\n                    {{ $filters.currency(item.qty * item.product.price) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <h3 class=\"text-primary\">用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"tempOrder.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-md-8\">\n              <h3 class=\"text-primary\">訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ $filters.date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>尚無資訊</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\n                        >已付款</strong\n                      >\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>{{ $filters.currency(tempOrder.total) }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <div class=\"d-flex justify-content-end\">\n              <div class=\"form-check\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  value=\"\"\n                  id=\"flexCheckDefault\"\n                  v-model=\"tempOrder.is_paid\"\n                  @click=\"paidTime()\"\n                />\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                  <span v-if=\"tempOrder.is_paid\">已付款</span>\n                  <span v-else>未付款</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-order', tempOrder)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\n\nexport default {\n  emits: [\"update-order\"],\n  props: {\n    propsOrder: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: \"\",\n      tempOrder: {},\n    };\n  },\n  methods: {\n    paidTime() {\n      if (this.tempOrder.paid_date) {\n        this.tempOrder.paid_date = \"\";\n      } else {\n        this.tempOrder.paid_date = Math.floor(Date.now() / 1000);\n      }\n    },\n  },\n  watch: {\n    propsOrder() {\n      this.tempOrder = this.propsOrder;\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./AdminOrderModal.vue?vue&type=template&id=98ca209e\"\nimport script from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    id=\"delOrderModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delOrderModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h3 id=\"delOrderModalLabel\" class=\"modal-title\">\n            <span>刪除單筆訂單</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div v-if=\"propsOrder.id\" class=\"modal-body\">\n          是否刪除\n          <strong class=\"text-danger\">{{ propsOrder.user.name }}</strong>\n          的訂單(刪除後將無法恢復)。\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            @click=\"$emit('delete-orders', propsOrder)\"\n            type=\"button\"\n            class=\"btn btn-danger\"\n          >\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\nexport default {\n  emits: [\"delete-orders\"],\n  props: {\n    propsOrder: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: \"\",\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DelOrdersModal.vue?vue&type=template&id=4c3e2788\"\nimport script from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    id=\"delAllOrderModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delAllOrderModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h3 id=\"delAllOrderModalLabel\" class=\"modal-title\">\n            <span>刪除全部訂單</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body text-center\">\n          是否刪除所有訂單<br />\n          <strong class=\"text-danger fs-4\">刪除後將無法復原</strong>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            @click=\"$emit('delete-all-orders')\"\n            type=\"button\"\n            class=\"btn btn-danger\"\n          >\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\nexport default {\n  emits: [\"delete-all-orders\"],\n  data() {\n    return {\n      modal: \"\",\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DelAllOrdersModal.vue?vue&type=template&id=e0a097d6\"\nimport script from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./AdminOrders.vue?vue&type=template&id=78c6cca4\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}